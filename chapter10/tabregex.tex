
\newcommand{\ttt}[1]{\texttt{\small{#1}}}
\newcommand{\bs}[1]{\ttt{\textbackslash#1}}

\begin{table}
  \caption{\label{tab:regex}Regular expression syntax}{
  \begin{tabularx}{\textwidth}{lllll}
    \toprule
\multicolumn{2}{l}{Function}      & Syntax   & Example & Matches    \\
    \midrule
\multicolumn{2}{l}{\textit{What to match}} \\
& All characters except for new lines   & \ttt{.} & \ttt{d.g} & \ttt{d\textbf{i}g}, \ttt{d\textbf{!}g}\\
& Word characters$^*$
  (letters, digits, \_)         & \bs{w} & \ttt{d\textbackslash{}wg} & \ttt{dig}, \ttt{dog} \\
%& Everything except word characters     & \bs{W} \\
& Digits$^*$ (0 to 9)                       & \bs{d} & \ttt{202\textbackslash{}d} & \ttt{2020}, \ttt{2021} \\
%& Everything except digits              & \bs{D} \\
& Whitespace$^*$ (space, tab, newline) & \bs{s} \\
%& Everything except whitespace	& \bs{S} \\
& Newline	& \bs{n} & \\

& Beginning of the string	& \ttt{\^{}} & \ttt{\^{}go} & \ttt{\textbf{go} {\color{gray}go go}}\\
& Ending of the string   & \ttt{\$} & \ttt{go\$} & \ttt{{\color{gray}go go} \textbf{go}} \\
& Beginning or end of word & \bs{b} & \ttt{\textbackslash{}bword\textbackslash{}b} & \ttt{{\color{gray}a} \textbf{word}\color{gray}!} \\
& Either first or second option  & \ttt{$\cdots$\textbar$\cdots$} & \ttt{cat\textbar{}dog} & \ttt{cat}, \ttt{dog}\\

\multicolumn{2}{l}{\textit{How many to match}} \\
& Zero or more & \ttt{*} & \ttt{d.*g} & \ttt{dg}, \ttt{drag}, \ttt{d = g} \\
& Zero or more (non-greedy) & \ttt{*?} & \ttt{d.*?g} & \ttt{\textbf{dog}{\color{gray}g}} \\
& One or more & \ttt{+}  & \ttt{\textbackslash{}d+\%} & \ttt{1\%}, \ttt{200\%} \\
& One or more (non-greedy) & \ttt{+?}  & \ttt{\textbackslash{}d+\%} & \ttt{{\color{gray}20}\textbf{0\%}} \\
& Zero or one  & \ttt{?} & \ttt{colou?r} & \ttt{color}, \ttt{colour} \\
& Exactly n times  & \ttt{\{n\}} & \ttt{\textbackslash{}d{\{4\}}} & \ttt{1940}, \ttt{2020} \\
& At least n times  & \ttt{\{n,\}} \\
& Between n and m times  & \ttt{\{n,m\}} \\

\multicolumn{2}{l}{\textit{Other constructs}} \\
& Groups & \ttt{($\cdots$)} & \ttt{'(bla )+'} & \ttt{'blah blah blah'} \\
& Selection of characters & \ttt{\lbrack$\cdots$\rbrack} & \ttt{d\lbrack iuo\rbrack g}& \ttt{dig}, \ttt{dug}, \ttt{dog} \\
& Range of characters in selection & \ttt{\lbrack a-z\rbrack} \\
& Everything except selection & \ttt{\lbrack\^{}...\rbrack} \\
& Escape special character & \ttt{\textbackslash{}} & \ttt{3\textbackslash{}.14} & \ttt{3.14} \\

\multicolumn{4}{l}{\textit{Unicode character properties$^\dagger$}} \\
& Letters$^*$ & \multicolumn{2}{l}{\ttt{\textbackslash{}p\{LETTER\}}} & \ttt{words}, \includegraphics[height=1em]{chapter10/tango.pdf}\\
& Punctuation$^*$ &\multicolumn{2}{l}{ \ttt{\textbackslash{}p\{PUNCTUATION\}}} & . , : \\
& Quotation marks$^*$ & \multicolumn{2}{l}{\ttt{\textbackslash{}p\{QUOTATION MARK\}}} & ' ` " Â«  \\
& Emoji$^*$ & \multicolumn{2}{l}{\ttt{\textbackslash{}p\{EMOJI\}}} & \includegraphics[height=1em]{chapter10/emoji.pdf}  \\
& Specific scripts, e.g. Hangul$^*$& \multicolumn{2}{l}{\ttt{\textbackslash{}p\{HANG\}}} & \includegraphics[height=1em]{chapter10/hangul.pdf}\\

    \bottomrule
  \end{tabularx}}{\small
    $*$ These selectors can be inverted by changing it into a capital letter. Thus, \bs{W} matches everything except word characters, and \ttt{\textbackslash{}P\{PUNCTUATION\}} matches everything except punctuation\\
    $\dagger$ See \url{https://www.unicode.org/reports/tr44/\#Property\_Index} for a full list of unucode properties. Note that when using Python, these are only available if you use \pkg{regex}, which is a drop-in replacement for the more common \pkg{re}.}
\end{table}
