\section{Publishing your source}
\label{sec:publishingsource}

Already in \refsec{practices}, we briefly introduced the idea of
version control protocols such as\pkg{git}, and the most well-known
provider, \pkg{github}. There are other ones, such as \pkg{bitbucket}
and the question which one you use is not really of importance for our
argument here. Already for small projects, it is a good idea to use
version control so that you can always go back to earlier versions,
but as soon as you start working with multiple people on one project,
it becomes indespensable.

In particular, it is possible to work on multiple \emph{branches},
different versions of the code that can later be merged again. In this
way, it is possible to develop new features without interfering with
the main version of the code. There are plenty of git tutorials
available online, and we highly recommended using git from the
beginning of a specific project on -- be it your bachelor or master
thesis, a paper, or a tool that you want to create.

In the compuational analysis of communication, it becomes more and
more the norm to publish all your source code together with an
article, even though it is important to keep in mind ethical and legal
restrictions (\cite{VanAtteveldt2019}). Using a version control
platform like github from the beginning makes this easy: when
publishing your paper, the only thing you have to do is to set access
of your repository to ``public'' (in case it was private before), add
a |README.md| file (in case you have not done so earlier), and
preferrably, get a persistenant identifier, a |doi| for your
code (see \url{https://guides.github.com/activities/citable-code/}).
And don't forget to add a license to your code, such as MIT, GPL, or
Apache. All of these have specific implications on what other can or
cannot do with your code (e.g., whether it can be used for commercial
purposes or whether derivates need to be published under the same license
as well). Whatever you choose here, it is important \emph{that} you
make a choice, as otherwise, it may not be (legally) possible to use
your code at all. 

If your code pertains to a specific paper, then we suggest to organize
your repository as a so-called ``research compendium'', integrating
both your code and your data.
\cite{compendium} provides a template and tools for easily creating one.

In virtually all instances, your code will rely on libraries written
by others, which are available free of charge to you. Therefore,
it only seems fair to ``give back'' and make sure that any code that
you wrote and that can be useful to others, is also available to them.

Just like in the case of a research compendium for a specific paper,
also publishing source code for more generic re-use begins with a
github repository. In fact, both R (with \pkg{devtools} and Python
(via \pkg{pip}) can install packages directly from github. In order
to do make sure that your code can be installed as a package, you
need to follow specific instructions on how to name files, how to
structure your directory, and so on (see \url{https://packaging.python.org/tutorials/packaging-projects/}
and \url{http://r-pkgs.had.co.nz/}).

Regardless of these specific technical instructions, you can make
sure from the outset, though, that your code is easily re-usable.
The checklist below can help making your code publishable from the
outset.

\begin{itemize}
\item Do not hard-code values. Rather than using |"myoutputfile.csv"| or |50| within your script, create constants like |OUTPUTFILE="myoutputfile"| and |NUMBER_OF_TOPICS=50| at the beginning of your script and use these variables instead of the values later on.
\item Use functions. Rather than writing large scripts that are executed from the first line to the last in that order, structure the code in different functions that fulfill one specific task each, and can hence be reused. If you find yourself copy-pasting code, then most likely, you can write a function instead.
\item Document your code. Use docstrings (Python) or comments (R) to make clear what each function does.
\end{itemize}

